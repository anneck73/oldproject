{% trans_default_domain 'Mealmatch' %}
{#
This file is used in SearchService, and served through a JSON response to the mm-search.js "load" method.
#}
<div class="meal-result-card flexbox">
    <div class="meal-result-card-left">
        <div class="text-center meal-result-card-date">{{ meal.startDateTime|date('d.') }}</br>
            {{ meal.startDateTime|date('M.') }}
        </div>

    </div>
    <div class="meal-result-card-center">
        <a href="#" data-toggle="modal" data-target="#homeMealModal-{{ meal.id }}">
        <div class="meal-result-card-meal-title">{{ meal.title|length > 45 ? meal.title|slice(0, 45) ~ '...' : meal.title }}</div>
        <div class="meal-result-card-meal-fulldate">{{ meal.startDateTime|date('d.m.y H:i') }}</div>
        <div class="meal-result-card-meal-hostnloc">{{ meal.address.postalcode }} {{ meal.address.city }}
            - {{ meal.host.username }}</div>
        </a>
    </div>
    <div class="meal-result-card-right">
        <div id="mealResultProMealProfileImage" class="meal-result-card-profile-image">
            <a href="{{ path('public_user_by_username', {'pName': meal.host.username }) }}">
            {% if meal.host.profile.imageName == "image/udefault.png" %}
                <img class="img-responsive img-circle mm-object-fit-contain"
                     src="{{ asset('bundles/uipublic/images/mm/profilbild_default.png') }}" alt="Profileimage"/>
            {% else %}
                <img class="img-responsive img-circle mm-object-fit-contain"
                     src="{{ asset(meal.host.profile.imageName, 's3img') }}" alt="Profileimage"/>
            {% endif %}
            </a>
        </div>
    </div>
</div>
<!-- HomeMealModal#{{ meal.id }} -->
<div class="modal fade" id="homeMealModal-{{ meal.id }}" tabindex="-1" role="dialog" aria-labelledby="homeMealModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                {% set homeMeal = meal %}
                {% set rProfile = meal.host.restaurantprofile %}
                {{ include('@WEBUI/HomeMeal/Card/homemeal.html5.twig') }}
            </div>
        </div>
    </div>
</div>
